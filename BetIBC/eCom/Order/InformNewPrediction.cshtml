@inherits RazorTemplateBase<RazorTemplateModel<Template>>
@using Dynamicweb.Rendering;
@using Dynamicweb.Extensibility
@using Dynamicweb.Content
@using Dynamicweb.Security;

@MasterPageFile("../../EmailMaster.cshtml")
@Include("../../EmailHelpers.cshtml")

@{

}

@CreatePreheader()

<table bgcolor="#FFFFFF" border="0" cellpadding="0" cellspacing="0" width="500" id="emailBody">
    @RenderHeaderSection()
    @RenderMessage()
    @RenderFooterSection()
</table>

@CreateSubscriptionFooter()

@* CONTENT HELPERS *@

@helper RenderHeaderSection()
{
    @RenderHeaderImage();
    
    Column info = new Column();
    info.header = Translate("New prediction added!");
    info.text.Add("");
    info.align = "center";

    @CreateRow(info);

    @CreateRowDivider();
}

@helper RenderMessage()
{ 

Column message = new Column();
message.text.Add(Translate("Hi") + " " + "{{Email:User.Name}}");
message.text.Add("");
message.text.Add(Translate("Tipster") +" <b> {{Email:User.Tipster}} </b> " + Translate("added a new prediction with title:") + " <b> {{Email:User.Prediction_Title}} </b> " + Translate("published as") + " <b> {{Email:User.LinkToTipPage}} </b> " );
message.text.Add(Translate("As an extra service we therefore send you this mail."));

    @CreateRow(message);
}

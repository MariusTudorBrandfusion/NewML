@inherits RazorTemplateBase<RazorTemplateModel<Template>>
@using Dynamicweb.Rendering;
@MasterPageFile("../../EmailMaster.cshtml")
@Include("../../EmailHelpers.cshtml")

@CreatePreheader()

<table bgcolor="#FFFFFF" border="0" cellpadding="0" cellspacing="0" width="500" id="emailBody">
    @RenderHeaderSection()
    @RenderMessage()  
    @RenderFooterSection()
</table>

@helper RenderHeaderSection()
{
    @RenderHeaderImage();
}

@helper RenderMessage()
{
    Column message = new Column();
    message.subheader = Translate("Forgot your password?");
    message.text.Add("");

    if (!string.IsNullOrWhiteSpace(GetString("DWPasswordRecoveryUrl")))
    {
        message.text.Add(GetString("DWExtranetUsername") + ", ");
        message.text.Add(Translate("Click this link to continue to reset your password"));
        @CreateRow(message);
        
        @RenderButton(GetString("DWPasswordRecoveryUrl"), "Reset password");
    }
    else
    {
        message.text.Add("<strong>" + Translate("Sign in") + ":</strong> " + GetString("DWExtranetUsername"));
        message.text.Add("<strong>" + Translate("Password") + ":</strong> " + GetString("DWExtranetPassword"));
        @CreateRow(message);
    }
}
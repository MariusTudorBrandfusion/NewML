@{
	string activeURL = "Page=" + GetString("DwSearchResultPage"); 
}


<table class="search-table">
	<tr> 
      
     
		<td colspan="2">@GetValue("DwSearchResults") @Translate("articole despre", "articole despre")  @GetValue("DwSearchPhrase")<td>
          
             
         
	</tr>
	<tr>
		<td>&nbsp;</td>
	</tr>
	@GetValue("DwSearchResultList")
       
</table>





<nav>
<ul class="pagination pagination-sm">
	@GetValue("DwSearchResultBack")&nbsp;&nbsp;
	@GetValue("DwSearchResultPageList")&nbsp;&nbsp;
	@GetValue("DwSearchResultForward")
</ul>
</nav>



@* <li><a href='@i.GetValue("PageGroup.PageLink")'>@i.GetValue("PageGroup.PageNumber")</a></li>




<nav>
    <ul class="pagination pagination-sm">


        @if(GetInteger("DwPaging.CurrentPage") >1)
      	{
			<li>
			    
          <a style="margin-right: 0.2em" href="@GetValue("DwPaging.FirstPageLink")">«  </a>
          <a href='@GetValue("DwPaging.PreviousPageLink")' aria-label='@Translate("paginaAnterioara", "Pagina anterioara")'><span aria-hidden="true"><i class="fa fa-angle-left"></i></span></a>
          
            
			</li>
		}

	@foreach (LoopItem i in GetLoop("DwPaging.LoopPageGroup")) {
		if(GetBoolean("PageGroup.PageNumber")) {
			<li class="active">@i.GetValue("PageGroup.PageNumber")</li>
		} else {
			<li><a href='@i.GetValue("PageGroup.PageLink")'>@i.GetValue("PageGroup.PageNumber")</a></li>
		}


	}

	        @if(GetInteger("DwPaging.PageCount") > GetInteger("DwPaging.CurrentPage"))
			{
	            <li>
	                <a href='@GetValue("DwPaging.NextPageLink")' aria-label='@Translate("paginaUrmatoare", "Pagina urmatoare")'><span aria-hidden="true"><i class="fa fa-angle-right"></i></span></a>
	                <a href='@GetValue("DwPaging.LastPageLink")'>» </a>
	            </li>
	        }


			
        

    </ul>
</nav> *@

<script type="text/javascript">

function getQueryVariable(variable)
     {
            var query = window.location.search.substring(1);
            var vars = query.split("&");
            for (var i=0;i<vars.length;i++) {
                    var pair = vars[i].split("=");
                    if(pair[0] == variable){return pair[1];}
            }
            return(false);
     }


	$(function(){
		$( ".pagination a" ).each(function( index  , element ) {
		  	$(element).wrapAll( "<li />")
		});


	   // function getURL(url) {
	   //     name = url.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]').replace("&amp;" , "&").replace("&amp;" , "&");

	   //     return name;
	   // }

	   // // get URL value
	   // var query = getURL("@activeURL");
	   // var listOfLi =  $("ul.pagination.pagination-sm li a");

	   // console.log("query" , query);

	   // var firstTimeOnPage = _.includes(query , "Page");

	   // if(!firstTimeOnPage) {
	   // 	$("ul.pagination.pagination-sm li:first").addClass("active");
	   // }

	   // // check if URL value is equal to any of li's URL value
	   // _.map(listOfLi , function(obj){
	   //   var liURL = $(obj).attr("href").replace("/" , "");

	   //   var included = _.includes(liURL , query);


	   //   if(included) {
	   //   	$(obj).parent().addClass("active");
	   //   }


	   // }); 

	   // var pageNumber = getQueryVariable("Page");
	   $("ul.pagination.pagination-sm li a b").parents("li").addClass("active");
	   
	   var activePage = $("ul.pagination.pagination-sm li.active").index();
	   var paginationLength = $("ul.pagination.pagination-sm").children("li").length;
	   $("ul.pagination.pagination-sm li").addClass("disabled").hide();
	   for (var i = activePage-2; i < activePage+3; i++) {
	   	if (i >= 0) {
	   		$("ul.pagination.pagination-sm li").eq(i).show().removeClass("disabled");
	   	}
	   }
	   $("ul.pagination.pagination-sm li").eq(0).show().removeClass("disabled");
	   $("ul.pagination.pagination-sm li").eq(1).show().removeClass("disabled");
	   $("ul.pagination.pagination-sm li").eq(paginationLength - 1).show().removeClass("disabled");
	   $("ul.pagination.pagination-sm li").eq(paginationLength - 2).show().removeClass("disabled");
	   $("ul.pagination.pagination-sm li").not(".disabled").each(function(){
	   	if ($(this).next().hasClass("disabled")) {
	   		$(this).after("<li><span>....</span></li>");
	   	}
	   });




	});
</script>

<style type="text/css" media="screen">
	.post-content ul.pagination.pagination-sm li {
		display: flex;
		flex-wrap: wrap;
		align-items: center;
		justify-content: center;
	}
	.post-content ul.pagination.pagination-sm {
		display: flex;
  		align-items: center;
  		justify-content: flex-start;
	}
</style>
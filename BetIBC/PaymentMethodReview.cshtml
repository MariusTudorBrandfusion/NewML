@inherits Dynamicweb.Rendering.ViewModelTemplate<Dynamicweb.Frontend.PageViewModel>

@MasterPageFile("MasterNoEcom.cshtml")

@{
    var bLogo = ((IList<Dynamicweb.Frontend.FileViewModel>)Model.Item.GetValue("Bookmaker_Logo")).FirstOrDefault();
    string bSubtitle = Model.Item.GetString("Bookmaker_Subtitle");

    string bIntroduction = Model.Item.GetString("Introduction");
    string bDescription = Model.Item.GetString("Description");
    string bBackgroundColor = Model.Item.GetString("HeaderBackgroundColor");

    string bWebsite = Model.Item.GetString("Bookmaker_Website");
    string bCompanyAndLegalForm = Model.Item.GetString("CompanyAndLegalForm");
    string bEstablishedIn = Model.Item.GetString("EstablishedIn");
    string bJurisdiction = Model.Item.GetString("Jurisdiction");
    string bAddress = Model.Item.GetString("Address");
    string bEmailSupport = Model.Item.GetString("EmailSupport");

    string bLanguagesAreaText = Model.Item.GetString("LanguagesAreaText");
    string paymentLink = Model.Item.GetString("Payment_Link");

    int pageIdBynavigation = GetPageIdByNavigationTag("VipIbc");
    int pageItemId = Model.ID;
    int sportsCounter = 0;
    
}

@if (Model.PropertyItem.GetBoolean("ShowBreadcrumb")) {
    <div class="grid__col-12 u-color-gray--bg">
      <div class="center-container">
        <div class="u-pull--right">
            @RenderNavigation(new
            {
                id = "breadcrumb",
                template = "breadcrumb.xslt"
            })
        </div>
        <div class="u-pull--left">
           <h3 class="page-title">@Model.Name</h3>
        </div>
      </div>
    </div>
}

<div class="bookmaker payment-method-review-wrapper">
        <!-- Bookmaker Header -->
        @if(bLogo != null) {
            <div class="bookmaker-header u-color-gray--bg" style="background: @bBackgroundColor;">
 <div class="bookmaker-logo">
                    <img src="@bLogo.Path" />
                </div>
                @if (!string.IsNullOrEmpty(bSubtitle)) { 
                    <p class="bookmaker-subtitle">@bSubtitle</p>
                }
            </div>
        }

        @if (pageIdBynavigation == pageItemId) {
<section>
            @Model.Placeholder("dwcontent", "content", "default:true;sort:1")
</section>
        } else {

            <!-- About the bookmaker -->
            <section class="multiple-paragraphs-container">          
                <div class="center-container dw-mod">
                    <div class="grid">

                        @if (!string.IsNullOrEmpty(bWebsite) || !string.IsNullOrEmpty(bCompanyAndLegalForm) || !string.IsNullOrEmpty(bEstablishedIn) || !string.IsNullOrEmpty(bJurisdiction) || !string.IsNullOrEmpty(bAddress) || !string.IsNullOrEmpty(bEmailSupport)) { 
                            <div class="grid__col-md-8 grid__col-xs-12">
                                <div class="grid__cell">
                                    <h2>@Translate("Review", "Review")</h2>
                                    <div class="introduction">@bIntroduction</div>   
                                    <div class="logos">
                                        <img src="@logo" alt="Logo" />
                                        <span>&</span>
                                        <img src="@bLogo.Path" />
                                    </div>
                                   
                                </div>
                            </div>
                              
                            <div class="grid__col-md-4 grid__col-xs-12">
                                <div class="grid__cell">
                                    <div class="u-brand-color-one--bg about-bookmaker">
                                  
                                        <img loading = "lazy" src= "/Admin/Public/GetImage.ashx?Image=@bLogo&Crop=5&DoNotUpscale=1&width=180&height=50&Quality=99&Format=webP">
                                        @if (!string.IsNullOrEmpty(bCompanyAndLegalForm)) { 
                                            <p><label>@Translate("Company legal form", "Company / legal form"):</label><span>@bCompanyAndLegalForm</span></p> 
                                        }
                                        @if (!string.IsNullOrEmpty(bEstablishedIn)) { 
                                            <p><label>@Translate("Established in", "Established in"):</label><span>@bEstablishedIn</span></p> 
                                        }
                                        @if (!string.IsNullOrEmpty(bJurisdiction)) { 
                                            <p><label>@Translate("Jurisdiction", "Jurisdiction"):</label><span>@bJurisdiction</span></p> 
                                        }
                                        @if (!string.IsNullOrEmpty(bAddress)) { 
                                            <p><label>@Translate("Address", "Address"):</label><span>@bAddress</span></p> 
                                        }
                                        @if (!string.IsNullOrEmpty(bEmailSupport)) { 
                                            <p><label>@Translate("Email support", "E-mail support"):</label><span>@bEmailSupport</span></p> 
                                        } 
                                         @if (!string.IsNullOrEmpty(bWebsite)) { 
                                            <a href="http://@bWebsite" class="payment-option-website" target="_blank">@Translate("WEBSITE", "WEBSITE")</a> 
                                        }
                      
                            
                                    @if(!string.IsNullOrEmpty(paymentLink)) 
                                        { <a href="@paymentLink" class="btn btn--primary dw-mod u-no-margin">@Translate("Open Account", "Open Account")</a> 
                                    }
                
                </div>
                              
                                </div>
                            </div>
                       <div class="description">@bDescription</div>
                            @*<div class="grid__col-md-12 grid__col-xs-12 paragraph-container">
                                <div class="grid__cell">
                                    <div class="longDescription">@bDescription</div>
                                </div>
                            </div>*@
                        } else {
                            <div class="grid__col-md-12 grid__col-xs-12 paragraph-container">
                                <div class="grid__cell">
                                    <div class="introduction">@bIntroduction</div>   
                                    <div class="logos"></div>
                                    <div class="longDescription">@bDescription</div>
                                </div>
                            </div>
                        }

                    </div>
                
                </div>
            </section>


         


            <!-- Languages -->
            if (!string.IsNullOrEmpty(bLanguagesAreaText) || Model.Item.GetItems("Bookmaker_Languages").Any()) {
            <section class="u-color-gray--bg"> 
                <div class="center-container dw-mod">
                    <div class="grid__col-md-12 grid__col-xs-12">  
                        <h3 class="section-title">@Translate("Languages","Languages")</h3>
                        <div class="grid languages-area">
                            @if(!string.IsNullOrEmpty(bLanguagesAreaText)) {
                                <div class="grid__col-md-3 grid__col-xs-12">
                                    @bLanguagesAreaText
                                </div>
                            }
                            <div class="grid__col-md-9 grid__col-xs-12 lang-box">
                                @foreach (var lang in Model.Item.GetItems("Bookmaker_Languages")) {
                                    var flag = ((IList<Dynamicweb.Frontend.FileViewModel>)lang.GetValue("Flag")).FirstOrDefault();
                                    string languageAbreviation = lang.GetString("Language_Abreviation");
                                    
                                    <div class="lang-item">
                                        @if(flag != null) { 
                                            <div class="flag"><img src="@flag.Path" /></div> 
                                        }
                                        <h5>@languageAbreviation</h5>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            }
            var slides = Model.Item.GetItems("Slides");
            if(slides != null && slides.Any()){
            <section class="multiple-paragraphs-container">          
                <div class="center-container dw-mod">
                    <div class="grid">

                        <div class="grid__col-md-12 grid__col-xs-12">
                            <div class="grid__cell"  id="bookmakerSlider">
                                @foreach (var s in slides) {
                                    string image = s.GetString("Image");
                                    
                                    <div>
                                      <a href = "@image" data-lightbox="roadtrip" data-gallery="gallery" class="light-box-after">
                                      <img src="@image" alt="" />
                                      </a>
                                      </div>
                                }
                            </div>
                        </div>
                    
                    </div>
                </div>
            </section>
            }           
        }
 </div>



@* 
<div class="responsive-image responsive-image--16-9">
    <img src="/Admin/Public/GetImage.ashx?width=1600&amp;crop=5&amp;Compression=75&amp;DoNotUpscale=1&amp;image=@Model.Item.GetFile("Image").Path" />
</div> *@
@inherits Dynamicweb.Rendering.RazorTemplateBase<Dynamicweb.Rendering.RazorTemplateModel<Dynamicweb.Rendering.Template>>
@using System.Web;

@{ 
    string feedType = HttpContext.Current.Request.QueryString.Get("feedtype");
}

@if (feedType == "Comments")
{<text>
[
	{
        "status": "@HttpUtility.JavaScriptStringEncode(GetString("ItemCreator:Edit.Status"))",
        "formBegin": "@HttpUtility.JavaScriptStringEncode(GetString("ItemCreator:Edit.Form.Begin"))",
        "formEnd": "@HttpUtility.JavaScriptStringEncode(GetString("ItemCreator:Edit.Form.End"))",
        "ValidationErrors": [@foreach (LoopItem error in GetLoop("ValidationErrors"))
        {
            if (error.Index > 1)
            {<text>,</text>}<text>
                {
                "field": "@error.GetString("ItemCreator:Edit.Validation.FieldName")",
                "message": "@error.GetString("ItemCreator:Edit.Validation.Error")"
                }</text>
        }]
    }
]</text>}